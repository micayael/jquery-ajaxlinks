!function(a){var e={replaceURL:!1,target:"#loadingbar-frame",direction:"right",async:!0,complete:function(){},cache:!0,error:function(){},global:!0,headers:{},statusCode:{},success:function(){},dataType:"html"};a.fx.step.textShadowBlur=function(e){a(e.elem).prop("textShadowBlur",e.now).css({textShadow:"0 0 "+Math.floor(e.now)+"px black"})},a.fn.loadingbar=function(t){var d=a.extend({},e,t);return this.each(function(e,t){var n=a(t),o=n.attr("href"),r=n.data("target")?n.data("target"):d.target,i=n.data("type")?n.data("type"):d.type,c=n.data("datatype")?n.data("datatype"):d.dataType;n.click(function(){return a.ajax({type:i,url:o,async:d.async,complete:d.complete,cache:d.cache,error:d.error,global:d.global,headers:d.headers,statusCode:d.statusCode,success:d.success,dataType:c,beforeSend:function(){if(0===a("#loadingbar").length)switch(a("body").append("<div id='loadingbar'></div>"),a("#loadingbar").addClass("waiting").append(a("<dt/><dd/>")),d.direction){case"right":a("#loadingbar").width(50+30*Math.random()+"%");break;case"left":a("#loadingbar").addClass("left").animate({right:0,left:100-(50+30*Math.random())+"%"},200);break;case"down":a("#loadingbar").addClass("down").animate({left:0,height:50+30*Math.random()+"%"},200);break;case"up":a("#loadingbar").addClass("up").animate({left:0,top:100-(50+30*Math.random())+"%"},200)}}}).always(function(){switch(d.direction){case"right":a("#loadingbar").width("101%").delay(200).fadeOut(400,function(){a(this).remove()});break;case"left":a("#loadingbar").css("left","0").delay(200).fadeOut(400,function(){a(this).remove()});break;case"down":a("#loadingbar").height("101%").delay(200).fadeOut(400,function(){a(this).remove()});break;case"up":a("#loadingbar").css("top","0").delay(200).fadeOut(400,function(){a(this).remove()})}}).done(function(e){history.replaceState&&1==d.replaceURL&&history.pushState({},document.title,o),d.done?d.done(e,r):a(r).html(e)}),!1})})}}(window.jQuery);